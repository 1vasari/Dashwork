<% content_for(:title, @task.name) %>
<% content_for(:actions) do %>
  <%= render EditActionComponent.new path: edit_task_path(@task) %>
  <%= render DeleteActionComponent.new path: tasks_path(@task), model_name: 'task' %>
<% end %>
<% content_for(:back_link, tasks_path) %>

<% if @task.description.present? %>
  <div class='columns'>
    <div class='column'>
      <%= @task.decorate :description %>
    </div>
  </div>
<% end %>

<%= render AttributesTableComponent.new(@task, [
  :due_date,
  :completed,
  :tags,
  { contact: [:name_link] },
  { company: [:name_link] },
  { project: [:name_link] },
]) %>

<%= simple_form_for(@task) do |f| %>
  <%= f.hidden_field :completed, value: !@task.completed %>
  <%= f.button :submit, @task.completed ? 'Mark Completed' : 'Back to Incomplete' %>
<% end %>
