<div class='columns'>
  <div class='column'>
    <h1 class='title is-size-4'>Tasks</h1>
  </div>
  <div class='column is-narrow'>
    <%= link_to new_task_path, class: 'button is-link is-rounded is-small' do %>
      Add
    <% end %>
  </div>
</div>

<% @tasks.each do |task| %>
  <div class='block'>
    <div class='box'>
      <div class='columns'>
        <div class='column'>
          <div class='title is-4'>
            <%= link_to task, class: 'has-text-black' do %>
              <%= task.decorate :due_date %>
            <% end %>
          </div>
        </div>

        <div class='column is-narrow'>
          <%= render 'tasks/completed_button', task: task %>
        </div>
      </div>

      <div class='content'>
        <%= task.decorate :name %>
      </div>

      <% if task.description.present? %>
        <div class='block'>
          <%= task.decorate :description %>
        </div>
      <% end %>

      <% if task.has_links? %>
        <div class='block'>
          <%= render LinksListComponent.new task %>
        </div>
      <% end %>
    </div>
  </div>
<% end %>
